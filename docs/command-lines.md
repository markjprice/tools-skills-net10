**Command-Lines**

To make it easier to enter commands at the prompt, this page lists all commands as a single line that can be copied and pasted.

- [Chapter 1 - Hello, C#! Welcome, .NET!](#chapter-1---hello-c-welcome-net)
  - [Page 13 - Managing VS Code extensions at the command prompt](#page-13---managing-vs-code-extensions-at-the-command-prompt)
  - [Page 17 - Defining project properties to reuse version numbers](#page-17---defining-project-properties-to-reuse-version-numbers)
  - [Page 30 - Installing Docker and an SQL Server container image](#page-30---installing-docker-and-an-sql-server-container-image)
  - [Page 31 - Running the SQL Server container image](#page-31---running-the-sql-server-container-image)
  - [Page 39 - Removing Docker resources](#page-39---removing-docker-resources)
  - [Page 39 - Setting up the EF Core CLI tool](#page-39---setting-up-the-ef-core-cli-tool)
  - [Page 42 - Creating a class library for entity models using SQL Server](#page-42---creating-a-class-library-for-entity-models-using-sql-server)
  - [Page 47 - Setting the user and password for SQL Server authentication](#page-47---setting-the-user-and-password-for-sql-server-authentication)
  - [Page 51 - Running tests](#page-51---running-tests)
  - [Page Getting help for the `dotnet` tool](#page-getting-help-for-the-dotnet-tool)
- [Chapter 2 - Making the Most of Your Code Editor](#chapter-2---making-the-most-of-your-code-editor)
  - [Page 94 - Code snippets](#page-94---code-snippets)
  - [Page 113 - Creating a project for a template](#page-113---creating-a-project-for-a-template)
- [Chapter 3 - Source Code Management Using Git](#chapter-3---source-code-management-using-git)
  - [Page 128 - Downloading the latest Git](#page-128---downloading-the-latest-git)
  - [Page 129 - Configuring your Git identity](#page-129---configuring-your-git-identity)
  - [Page 131 - Configuring SSH signature enforcement](#page-131---configuring-ssh-signature-enforcement)
  - [Page 132 - Configuring your default branch](#page-132---configuring-your-default-branch)
  - [Page 132 - Getting help for Git](#page-132---getting-help-for-git)
  - [Page 133 - Starting with a Git repository](#page-133---starting-with-a-git-repository)
  - [Page 134 - Creating and adding files to a Git repository in theory](#page-134---creating-and-adding-files-to-a-git-repository-in-theory)
  - [Page 136 - Creating a Git repository in practice](#page-136---creating-a-git-repository-in-practice)
  - [Page 136 - Creating a new project](#page-136---creating-a-new-project)
  - [Page 141 - Committing files](#page-141---committing-files)
  - [Page 143 - Undoing a commit](#page-143---undoing-a-commit)
  - [Page 144 - Cleaning a commit](#page-144---cleaning-a-commit)
  - [Page 147 - Ignoring files](#page-147---ignoring-files)
  - [Page 149 - Viewing differences in files](#page-149---viewing-differences-in-files)
  - [Page 155 - Filtering log output](#page-155---filtering-log-output)
  - [Page 156 - Managing remote repositories](#page-156---managing-remote-repositories)
  - [Page 161 - Walking through a branching and merging example](#page-161---walking-through-a-branching-and-merging-example)
  - [Page 165 - Deleting and listing branches](#page-165---deleting-and-listing-branches)
- [Chapter 5 - Logging, Tracing, and Metrics for Observability](#chapter-5---logging-tracing-and-metrics-for-observability)
  - [Page 223 - Viewing metrics](#page-223---viewing-metrics)
- [Chapter 6 - Documenting Your Code, APIs, and Services](#chapter-6---documenting-your-code-apis-and-services)
  - [Page 249 - Installing DocFX](#page-249---installing-docfx)
  - [Page 252 - Creating a DocFX project](#page-252---creating-a-docfx-project)
  - [Page 270 - Rendering Mermaid diagrams](#page-270---rendering-mermaid-diagrams)
  - [Page 273 - Converting Mermaid to SVG](#page-273---converting-mermaid-to-svg)
- [Chapter 11 - Unit Testing and Mocking](#chapter-11---unit-testing-and-mocking)
  - [Page 425 - Creating a SUT](#page-425---creating-a-sut)
  - [Page 436 - Set up and tear down](#page-436---set-up-and-tear-down)
- [Chapter 12 - Integration and Security Testing](#chapter-12---integration-and-security-testing)
  - [Page 468 - Developer instances of the database and migrations](#page-468---developer-instances-of-the-database-and-migrations)
  - [Page 472 - Installing the dev tunnel CLI](#page-472---installing-the-dev-tunnel-cli)
  - [Page 472 - Exploring a dev tunnel with the CLI and an echo service](#page-472---exploring-a-dev-tunnel-with-the-cli-and-an-echo-service)
- [Chapter 13 - Benchmarking Performance, Load, and Stress Testing](#chapter-13---benchmarking-performance-load-and-stress-testing)
  - [Page 507 - Using Bombardier](#page-507---using-bombardier)
  - [Page 509 - Comparing an AOT and a non-AOT web service](#page-509---comparing-an-aot-and-a-non-aot-web-service)
- [Chapter 14 - Functional and End-to-End Testing of Websites and Services](#chapter-14---functional-and-end-to-end-testing-of-websites-and-services)
  - [Page 528 - Testing web user interfaces using Playwright](#page-528---testing-web-user-interfaces-using-playwright)
  - [Page 537 - Page navigation and title verification](#page-537---page-navigation-and-title-verification)
  - [Page 546 - Generating tests with the Playwright Inspector](#page-546---generating-tests-with-the-playwright-inspector)
  - [Page 553 - Exercise 14.2 – Practice exercises](#page-553---exercise-142--practice-exercises)
- [Chapter 15 - Containerization Using Docker](#chapter-15---containerization-using-docker)
  - [Page 566 - Configuring ports and running a container](#page-566---configuring-ports-and-running-a-container)
  - [Page 567 - Interactive mode](#page-567---interactive-mode)
  - [Page 568 - Setting environment variables](#page-568---setting-environment-variables)
  - [Page 571 - Installing Docker and using prebuilt images](#page-571---installing-docker-and-using-prebuilt-images)
  - [Page 581 - Publishing to a Docker container](#page-581---publishing-to-a-docker-container)
  - [Page 588 - Containerizing an ASP.NET Core project](#page-588---containerizing-an-aspnet-core-project)
- [Chapter 16 - Cloud-Native Development Using Aspire](#chapter-16---cloud-native-development-using-aspire)
  - [Page 596 - Code editor and CLI support for Aspire](#page-596---code-editor-and-cli-support-for-aspire)
  - [Page 597 - Using the Aspire CLI to create a starter project](#page-597---using-the-aspire-cli-to-create-a-starter-project)
  - [Page 603 - Aspire project templates](#page-603---aspire-project-templates)


# Chapter 1 - Hello, C#! Welcome, .NET!

## Page 13 - Managing VS Code extensions at the command prompt

```shell
code --install-extension ms-dotnettools.csdevkit
```

## Page 17 - Defining project properties to reuse version numbers

```shell
dotnet restore
```

## Page 30 - Installing Docker and an SQL Server container image

Pull down the latest container image for SQL Server 2025, as shown in the following command:
```shell
docker pull mcr.microsoft.com/mssql/server:2025-latest
```

## Page 31 - Running the SQL Server container image

Run the container image for SQL Server with a strong password, and name the container `nw-container`, as shown in the following command:
```shell
docker run --cap-add SYS_PTRACE -e 'ACCEPT_EULA=1' -e 'MSSQL_SA_PASSWORD=s3cret-Ninja' -p 1433:1433 --name nw-container -d mcr.microsoft.com/mssql/server:2025-latest
```

```shell
docker ps -a
```

## Page 39 - Removing Docker resources

Stop the `nw-container` container running, as shown in the following command:
```shell
docker stop nw-container
```

Remove the `nw-container` container, as shown in the following command:
```shell
docker rm nw-container
```

Remove the image to release its disk space, as shown in the following command:
```shell
docker rmi mcr.microsoft.com/mssql/server:2025-latest
```

## Page 39 - Setting up the EF Core CLI tool

Check if you have already installed `dotnet-ef` as a global tool, as shown in the following command:
```shell
dotnet tool list --global
```

Update the EF Core tool:
```shell
dotnet tool update --global dotnet-ef
```

```shell
dotnet tool update --global dotnet-ef --version 11.0-*
```

Install the EF Core tool:
```shell
dotnet tool install --global dotnet-ef
```

You can also remove the tool, as shown in the following command:
```shell
dotnet tool uninstall --global dotnet-ef
```

## Page 42 - Creating a class library for entity models using SQL Server

Generate entity class models for all tables (SQL Server in container):
```shell
dotnet ef dbcontext scaffold "Data Source=tcp:127.0.0.1,1433;Initial Catalog=Northwind;User ID=sa;Password=s3cretNinja;TrustServerCertificate=True;" Microsoft.EntityFrameworkCore.SqlServer --namespace Northwind.EntityModels --data-annotations
```

> **Warning!** `Data Source=127.0.0.1,1433` is the shorthand form. If you do not specify a protocol, the SQL Server client picks one automatically based on client and server configuration. On a modern Windows machine with SQL Server configured normally, that means TCP/IP will be used, although Shared Memory might be preferred if you are local, unless disabled. `Data Source=tcp:127.0.0.1,1433` is the explicit protocol form, because `tcp:` forces the client to use TCP/IP. If you care about reproducibility across machines, CI pipelines, containers, and Azure VMs, you should prefer `tcp:` because Shared Memory exists only on Windows, and Containers and Linux environments cannot use it.

Generate entity class models for all tables (SQL Server in local computer):
```shell
dotnet ef dbcontext scaffold "Data Source=.;Initial Catalog=Northwind;Integrated Security=true;TrustServerCertificate=True;" Microsoft.EntityFrameworkCore.SqlServer --namespace Northwind.EntityModels --data-annotations
```

## Page 47 - Setting the user and password for SQL Server authentication

On Windows:
```shell
setx MY_SQL_USR <your_user_name>
setx MY_SQL_PWD <your_password>
```

On macOS and Linux:
```shell
export MY_SQL_USR=<your_user_name>
export MY_SQL_PWD=<your_password>
```

## Page 51 - Running tests

```shell
dotnet test
```

## Page Getting help for the `dotnet` tool

```shell
dotnet help <command>
```

```shell
dotnet <command> -?|-h|--help
```

# Chapter 2 - Making the Most of Your Code Editor

## Page 94 - Code snippets

Add a new **Console App** / `console` project named `SnippetDemos4Code` to the `Chapter02` solution
```shell
dotnet new console -o SnippetDemos4Code
dotnet sln add SnippetDemos4Code
```

Build and publish the self-contained release version of the console application for Windows, macOS and Linux:
```shell
dotnet publish -c Release -r win-x64 --self-contained
```
```shell
dotnet publish -c Release -r osx-x64 --self-contained
```
```shell
dotnet publish -c Release -r linux-x64 --self-contained
```

## Page 113 - Creating a project for a template

Install the project template for creating project templates:
```shell
dotnet new install Microsoft.TemplateEngine.Authoring.Templates
```

Package the project:
```shell
dotnet pack
```

Install the NuGet package:
```shell
dotnet new install .\bin\Release\ConsolePlusTemplate.10.0.0.nupkg
```

# Chapter 3 - Source Code Management Using Git

## Page 128 - Downloading the latest Git

Confirm the current version of Git:
```shell
git --version
```

## Page 129 - Configuring your Git identity

Set your name globally:
```shell
git config --global user.name "<your_full_name>"
git config --global user.email <your_email>
```

Set your name in a specific repository:
```shell
git config user.name "<your_full_name>"
git config user.email <your_email>
```

## Page 131 - Configuring SSH signature enforcement

Generate an SSH key pair:
```shell
ssh-keygen -t ed25519 -C "your_email@example.com"
```

Configure Git to use your SSH key for signing commits:
```shell
git config --global user.signingkey <your-ssh-public-key-id>
git config --global commit.gpgformat ssh
```

Sign commits using the `-S` switch:
```shell
git commit -S -m "your commit message"
```

Verify the signatures:
```shell
git log --show-signature
```

## Page 132 - Configuring your default branch

Check your default configuration:
```shell
git config --list --show-origin
```

Change the default branch to something less culturally insensitive, like `main`:
```shell
git config --global init.defaultBranch main
```

## Page 132 - Getting help for Git

```shell
git help <command>
git <command> --help
git <command> -h
```

## Page 133 - Starting with a Git repository

To clone an existing repository into the current directory:
```shell
git clone <url_to_repo>
```

To initialize a repository in the current local non-Git directory:
```shell
git init
```

## Page 134 - Creating and adding files to a Git repository in theory

To add all C# files (files with the extension `.cs`) and add a file named `readme.md`:
```shell
git add *.cs
git add readme.md
```

After adding files, you must commit them to the local repository, preferably with a message specified using the -m switch:
```shell
git commit -m 'Initial version'
```

## Page 136 - Creating a Git repository in practice

Get the current Git status of the current directory:
```shell
git status
```

## Page 136 - Creating a new project

Create a new console app in a subfolder named `RepoDemo`:
```shell
dotnet new console -o RepoDemo
```

Create a solution and add the `RepoDemo` project to it:
```shell
dotnet new sln
dotnet sln add RepoDemo
```

Stage the RepoDemo folder and all its files:
```shell
git add RepoDemo
```

Unstage all the files recursively (using the `-r` switch):
```shell
git rm --cached RepoDemo -r
```

Stage just the two important source code files in the `RepoDemo` folder and the solution file:
```shell
git add RepoDemo/Program.cs
git add RepoDemo/RepoDemo.csproj
git add Chapter03.sln
```

Get the current Git status of the current directory using the short switch, `-s`:
```shell
git status -s
```

## Page 141 - Committing files

Commit the two files with a message:
```shell
git commit -m "Initial version"
```

## Page 143 - Undoing a commit

Soft Reset: 
```shell
git reset --soft HEAD
```

Mixed Reset: 
```shell
git reset HEAD
```

Hard Reset: 
```shell
git reset --hard HEAD
```

Revert Commit:
```shell
git revert <commit_hash>
```

Amend Commit:
```shell
git commit --amend
```

## Page 144 - Cleaning a commit

Remove files that should not be tracked by Git:
```shell
git clean
```

Remove files and directories that should not be tracked by Git:
```shell
git clean -d
```

Dry run option:
```shell
git clean -n
```

## Page 147 - Ignoring files

Create a `.gitignore` file using the .NET SDK CLI:
```shell
dotnet new gitignore
```

Add and then commit the Git ignore file:
```shell
git add .gitignore
git commit -m "Add Git ignore file.
```

## Page 149 - Viewing differences in files

Show Git differences:
```shell
git diff
```

Show what differences are currently staged:
```shell
git diff --staged
```

Show the commit history:
```shell
git log
```

Show the commit history with the most recent three patches:
```shell
git log -p -3
```

Show the commit history statistics:
```shell
git log --stat
```

Show the commit history with one-line formatting:
```shell
git log --pretty=oneline
```

Show the commit history with a custom format that shows the full commit hash (`%H`), the author’s name (`%an`) in blue (`%Cblue`, `%Creset`), the author timestamp in ISO 8601 format (`%ai`), and then on a new line (`%n`), the commit message (`%s`):
```shell
git log --pretty=format:"Author of %H was %Cblue%an%Creset, at %ai%nMessage: %s%n"
```

Show the commit history with a custom format that shows the short commit hash (%h) and the commit message (%s), but with graphs for any branches:
```shell
git log --pretty=format:"%h %s" --graph
```

## Page 155 - Filtering log output

Get the commits in the last two weeks:
```shell
git log --since=2.weeks
git log --after=2.weeks
```

Get the commits starting in 2024:
```shell
git log --since=2024-01-01
git log --after=2024-01-01
```

Get the commits before 2024:
```shell
git log --until=2024-01-01
git log --before=2024-01-01
```

Filter by author, committer, or file path:
```shell
git log --author "Mark J Price"
git log --committer "Mark J Price"
git log -- RepoDemo/RepoDemo.csproj
```

Get the commits that contain the text string `ignore`:
```shell
git log -S "ignore"
```

## Page 156 - Managing remote repositories

List your configured remote repositories:
```shell
git remote -v
```

To get more information:
```shell
git remote show origin
```

Add your remote repository with its URL:
```shell
git remote add origin https://github.com/markjprice/repodemo.git
```

Push the main branch of your project up to the remote repositories:
```shell
git push origin main
```

## Page 161 - Walking through a branching and merging example

Stage the modified file and then commit the changes to both files with a comment message:
```shell
git commit -a -m "Add calculator functionality and call the Add method."
```

Create a new feature branch named `configure-console`:
```shell
git branch configure-console
```

Switch to the new branch:
```shell
git switch configure-console
```

Create (`-c`) a new feature branch and switch to it:
```shell
git switch -c <branch-name>
```

Create a new feature branch and switch to it (old way):
```shell
git checkout -b <branch-name>
```

Switch (back) to `main` branch:
```shell
git switch main
```

Merge the hotfix into the main branch:
```shell
git merge calc-hotfix
```

## Page 165 - Deleting and listing branches

Delete the hotfix branch:
```shell
git branch -d calc-hotfix
```

List branches:
```shell
git branch
```

# Chapter 5 - Logging, Tracing, and Metrics for Observability

## Page 223 - Viewing metrics

Install the .NET Counters tool globally:
```shell
dotnet tool update -g dotnet-counters
```

Start monitoring the web service by specifying its PID:
```shell
dotnet-counters monitor -p 9552 --counters Northwind.WebApi.Metrics
```

# Chapter 6 - Documenting Your Code, APIs, and Services

## Page 249 - Installing DocFX

Install DocFX:
```shell
dotnet tool install -g docfx
```

Or update it to the latest version:
```shell
dotnet tool update -g docfx
```

Confirm that DocFX is installed:
```shell
dotnet tool list -g
```

## Page 252 - Creating a DocFX project

Initialize a DocFX project:
```shell
docfx init
```

Host the DocFX project in a web server:
```shell
docfx docfx.json --serve
```

## Page 270 - Rendering Mermaid diagrams

Install Mermaid CLI using Node Package Manager:
```shell
npm install -g @mermaid-js/mermaid-cli
```

## Page 273 - Converting Mermaid to SVG

```shell
mmdc -i mermaid-examples.md -o output.md
```

# Chapter 11 - Unit Testing and Mocking

## Page 425 - Creating a SUT

Add a new xUnit Test Project [C#] / xunit project named `BusinessLogicUnitTests` to the `Chapter11` solution:
```shell
dotnet new xunit -o BusinessLogicUnitTests
dotnet sln add BusinessLogicUnitTests
```

## Page 436 - Set up and tear down

Run the tests:
```shell
dotnet test --logger "console;verbosity=detailed"
```

# Chapter 12 - Integration and Security Testing

## Page 468 - Developer instances of the database and migrations

Create a new migration:
```shell
dotnet ef migrations add <MigrationName>
```

Run any outstanding migrations:
```shell
dotnet ef database update
```

To revert to a specified migration point:
```shell
dotnet ef database update <MigrationName>
```

To revert all migrations so that the database returns to its original state:
```shell
dotnet ef database update 0
```

## Page 472 - Installing the dev tunnel CLI

On Windows, use `winget`:
```shell
winget install Microsoft.devtunnel
```

On MacOS, use Homebrew:
```shell
brew install --cask devtunnel
```

On Linux, use curl:
```shell
curl -sL https://aka.ms/DevTunnelCliInstall | bash
```

## Page 472 - Exploring a dev tunnel with the CLI and an echo service

Log in:
```shell
devtunnel user login
```

Start hosting a simple service on port 8080 that just echoes any HTTP requests to it:
```shell
devtunnel echo http -p 8080
```

In another command prompt or terminal window, start hosting a dev tunnel for port 8080:
```shell
devtunnel host -p 8080
```

# Chapter 13 - Benchmarking Performance, Load, and Stress Testing

## Page 507 - Using Bombardier

To send 10,000 requests with 100 concurrent connections:
```shell
bombardier -c 100 -n 10000 http://yourwebservice.com/api/resource
```

Confirm that Bombardier is responding by asking for help:
```shell
bombardier --help
```

## Page 509 - Comparing an AOT and a non-AOT web service

Create a Web API project:
```shell
dotnet new webapi --no-https --no-openapi -o Northwind.WebApi
```

Create a Web API project for AOT:
```shell
dotnet new webapi --no-https --no-openapi -o Northwind.WebApiAot
```

Publish a project:
```shell
dotnet publish
```

Start the web service using port 5131:
```shell
.\Northwind.WebApi --urls="http://localhost:5131"
```

Start the web service using port 5132:
```shell
.\Northwind.WebApiAot --urls="http://localhost:5132"
```

Use Bombardier to make one million requests using 125 connections (simulated users) to the normal web service, which is listening on port 5131:
```shell
bombardier -c 125 -n 1000000 http://localhost:5131/weatherforecast
```

Use Bombardier to make one million requests using 125 connections (simulated users) to the AOT web service, which is listening on port 5132:
```shell
bombardier -c 125 -n 1000000 http://localhost:5132/weatherforecast
```

Use Bombardier to make as many requests as possible for 10 seconds using 200 connections to the normal web service and output the latency distribution:
```shell
bombardier -c 200 -d 10s -l http://localhost:5131/weatherforecast
```

# Chapter 14 - Functional and End-to-End Testing of Websites and Services

## Page 528 - Testing web user interfaces using Playwright

When running a test project, you can then specify the browser and channel:
```shell
dotnet test -- Playwright.BrowserName=chromium Playwright.LaunchOptions.Channel=msedge
```

## Page 537 - Page navigation and title verification

Add a new `xunit` project named `WebUITests` to a `Chapter14` solution:
```shell
dotnet new sln
dotnet new xunit -o WebUITests
dotnet sln add WebUITests
```

Install browsers for Playwright to automate:
```shell
pwsh playwright.ps1 install
```

## Page 546 - Generating tests with the Playwright Inspector

Start the code generator:
```shell
pwsh bin/Debug/net10.0/playwright.ps1 codegen https://localhost:5001/
```

You can start the Playwright Inspector with emulation options like setting a view port size:
```shell
pwsh bin/Debug/net10.0/playwright.ps1 codegen --viewport-size=800,600 https://localhost:5001/
```

You could emulate a device:
```shell
pwsh bin/Debug/net10.0/playwright.ps1 codegen --device="iPhone 13" https://localhost:5001/
```

## Page 553 - Exercise 14.2 – Practice exercises

Run the Playwright PowerShell script with the `uninstall` option:
```shell
pwsh bin/Debug/net10.0/playwright.ps1 uninstall
```

To remove browsers of other Playwright installations as well, add the `--all` switch:
```shell
pwsh bin/Debug/net10.0/playwright.ps1 uninstall --all
```

# Chapter 15 - Containerization Using Docker

## Page 566 - Configuring ports and running a container

For an ASP.NET Core web application that listens on port `8080` within the container, you might want to map it to port `8000` on the host, making the application accessible at http://localhost:8000:
```shell
docker run -p 8000:8080 -d --name myaspnetapp mcr.microsoft.com/dotnet/samples:aspnetapp:latest
```

If your application inside the container listens on port `443` (the default HTTPS port), and you want to map this to port `8443` on the host, you would use the following command:
```shell
docker run -p 8443:443 -d --name mysecureapp mcr.microsoft.com/dotnet/samples:aspnetapp:latest
```

If your .NET application uses port `80` for the web interface and exposes a metrics endpoint on port `8081`, you can map both ports:
```shell
docker run -p 8080:80 -p 5001:8081 -d --name mydotnetapp mcr.microsoft.com/dotnet/samples:aspnetapp:latest
```

The docker run command can be used to both download an image and immediately start a container using it, as shown in the following command:
```shell
docker run --rm -it -p 8000:8080 mcr.microsoft.com/dotnet/samples:aspnetapp
```

## Page 567 - Interactive mode

When you use `-it` together, it enables you to interact with the CLI or application within the container. For example, if you’re running a Linux container and want to interact with its shell, you would use:
```shell
docker run -it ubuntu /bin/bash
```

## Page 568 - Setting environment variables

Environment variables are set using the -e switch, as shown in the following command:
```shell
docker run
  -e "ACCEPT_EULA=Y"
  -e "MSSQL_SA_PASSWORD=yourStrong(!)Password"
  -e "MSSQL_PID=Developer"
  -p 1433:1433 --name sqlserver1 --hostname sqlserver1
  -d mcr.microsoft.com/mssql/server:2022-CU10-ubuntu-22.04
```

> **Warning!** The preceding command is formatted to make it easier to read in a printed book. At a terminal or command prompt it must be entered all on one line as a single command.

## Page 571 - Installing Docker and using prebuilt images

List the Docker images:
```shell
docker images
```

Download the Docker image for the sample ASP.NET Core project image and run it with external port `8000` mapped to internal port `8080`, interactive TTY mode (`-it`), and remove it when the container stops (`--rm`), as shown in the following command:
```shell
docker run --rm -it -p 8000:8080 mcr.microsoft.com/dotnet/samples:aspnetapp
```

## Page 581 - Publishing to a Docker container

```shell
dotnet publish -c Release
```

Build the container:
```shell
docker build -t aboutmyenvironment-image -f Dockerfile .
```

Create a Docker container named `ame` from the image named `aboutmyenvironment-image`:
```shell
docker create --name ame aboutmyenvironment-image
```

List all the containers:
```shell
docker ps -a
```

Start the ame container and attach its standard input and output to the current command prompt or terminal:
```shell
docker start ame -ai
```

Run and connect to the container without running the console app immediately by overriding the entry point:
```shell
docker run -it --rm --entrypoint "bash" aboutmyenvironment-image
```

Run the console app using `dotnet`:
```shell
dotnet AboutMyEnvironment.dll
```

Run the console app using its executable:
```shell
./AboutMyEnvironment
```

## Page 588 - Containerizing an ASP.NET Core project

Publish without a Dockerfile:
```shell
dotnet publish $PROJECT_PATH --os linux --arch arm64 /t:PublishContainer /p:ContainerImageTags=$CI_JOB_DATE -c Release
```

# Chapter 16 - Cloud-Native Development Using Aspire

## Page 596 - Code editor and CLI support for Aspire

To install the Aspire for .NET project templates for use with the `dotnet` CLI and common code editors like Visual Studio:
```shell
dotnet new install Aspire.ProjectTemplates
```

To install the Aspire CLI that streamlines your development workflow with an interactive-first experience, enter the following PowerShell command:
```shell
irm https://aspire.dev/install.ps1 | iex
```

Alternatively, for other operating systems, you can use the following Bash command:
```shell
curl -sSL https://aspire.dev/install.sh | bash
```

## Page 597 - Using the Aspire CLI to create a starter project

Use the Aspire CLI to interactively create a new project:
```shell
aspire new
```

Run an Aspire solution:
```shell
aspire run
```

## Page 603 - Aspire project templates

List the Aspire project templates for `dotnet new`:
```shell
dotnet new list aspire
```
